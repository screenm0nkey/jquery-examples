<!DOCTYPE HTML><html lang="en-US">    <head>        <meta charset="UTF-8">        <title>Differnt ways of passing objects to $.with</title>        <script type="text/javascript">            log = console.log;            dir = console.dir;        </script>        <script type="text/javascript" src="http://libraries/jquery-1.5.1.js"></script>        <script type="text/javascript">            $(function(){                var defferedObj, defferedObj2, promiseObj, jqXHR;                                function getAJAXData(){                    // you can pass the jqXHR (deferred) object or the promise object to the $.when method, so both options below work;                    return $.get('foo.html').done(function(){                        log('AJAX done');                    });                }				                function returnPromise(){                    return $.Deferred(function(dfd){                        $('#foo2').fadeIn(2000, dfd.resolve);                    }).promise();                }                                                defferedObj = $.Deferred();                setTimeout(function(){                    defferedObj.resolve();                }, 3000);                                                promiseObj =  $.Deferred().promise();                setTimeout(function(){                    defferedObj2.resolve();                }, 4000);                                                //when can accept a deferred or promise object                $.when(getAJAXData(), returnPromise(), defferedObj, promiseObj).then(function(ajaxResult){                    console.log('THEN called', ajaxResult);                }).done(function(ajaxResult){                    console.log('DONE called', ajaxResult);                });                                                            });        </script>    </head>    <body>        <div id="foo" style="background:red;height:100px; width:100px;display:none;">Foo</div>        <div id="foo2" style="background:red;height:100px; width:100px;display:none;">Foo 2</div>    </body></html>