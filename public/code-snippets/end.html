<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>End()</title>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script>
            $(document).ready(function(){
            
                jQuery.fn.showTags = function(n){
                    console.log(this);
                    var tags = this.map(function(){
                        console.log(this);
                        return this.tagName;
                    }).get().join(" = ");
                    
                    $("b:eq(" + n + ")").text(tags);
                    return this;
                };
                
                jQuery.fn.hello = function(n){
                    console.log(this);
                    this.css("border", "1px solid purple");
                    return this;
                };
                
                $("p").showTags(0).find("span").showTags(1).css("background", "yellow").end().showTags(2).css("font-style", "italic");
                
                //$("body div").hello();
            
            });
        </script>
        <style>
            p, div {
                margin: 1px;
                padding: 1px;
                font-weight: bold;
                font-size: 16px;
            }
            
            div {
                color: blue;
            }
            
            b {
                color: red;
            }
        </style>
    </head>
    <body>
        <p> Hi there <span>how</span>are you <span>doing</span>? </p>
        <p> This <span>span</span>is one of 
            several <span>spans</span> in this <span>sentence</span>. </p>
        <div>
            Tags in jQuery object initially: <b></b>
        </div>
        <div>
            Tags in jQuery object after find: <b></b>
        </div>
        <div>
            Tags in jQuery object after end: <b></b>
        </div>
    </body>
</html>
