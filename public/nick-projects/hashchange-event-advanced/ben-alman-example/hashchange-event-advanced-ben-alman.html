<!DOCTYPE html><html lang="en">    <head>        <meta http-equiv="content-type" content="text/html; charset=utf-8">        <title>Ben Alman &raquo; jQuery BBQ &raquo; Examples &raquo; hashchange ï¿½ Advanced</title>        <link rel="stylesheet" href="index.css">        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>        <script type="text/javascript" src="http://libraries/jquery.bbq-min.js"></script>        <script type="text/javascript" language="javascript">                        $(function(){                            $('.bbq').each(function(){                    $(this).data('bbq', {                        cache: {                            // If url is '' (no fragment), display this div's content.                            '': $(this).find('.bbq-default')                        }                    });                });                                              $('.bbq a[href^=#]').live('click', function(e){                    var state = {},              			id = $(this).closest('.bbq').attr('id'), // Get the url from the link's href attribute, stripping any leading #.             			url = $(this).attr('href').replace(/^#/, '');                    // Set the state!                    state[id] = url;                    $.bbq.pushState(state);                    return false;                });                                $(window).bind('hashchange', function(e){                    $('.bbq').each(function(){                        var $that = $(this),             				data = $that.data('bbq'),                        	currentURL = $.bbq.getState($that.attr('id')) || '';							console.log($that.attr('id'),' currentURL = ', currentURL, ' data.url = ', data.url);                               if (data.url === currentURL) {                            return;                        }                                                data.url = currentURL;                                                 $that.find('a.bbq-current').removeClass('bbq-current');                                                $that.find('.bbq-content').children(':visible').hide();                                                currentURL && $that.find('a[href="#' + currentURL + '"]').addClass('bbq-current');                        						if (data.cache[currentURL]) {							console.log('> ',data.cache[currentURL]);                            data.cache[currentURL].show();                                                    }                        else {                            $that.find('.bbq-loading').show();                            console.log(data.cache)                            data.cache[currentURL] = $('<div class="bbq-item"/>')								.appendTo($that.find('.bbq-content'))								.load(currentURL, function(){	                                $that.find('.bbq-loading').hide();	                            });                        }                    });                })                                $(window).trigger('hashchange');                            });        </script>    </head>    <body>        <div id="page">            <div id="content">                <div class="bbq" id="bbq1">                    <div class="bbq-nav bbq-nav-top">                        <a href="#burger.html">Burgers</a>                        <a href="#chicken.html">Chicken</a>                        <a href="#kebabs.html">Kebabs</a>                    </div>                    <div class="bbq-content">                        <!-- This will be shown while loading AJAX content. You'll want to get an image that suits your design at http://ajaxload.info/ -->                        <div class="bbq-loading" style="display:none;">                            <img src="/shell/images/ajaxload-15-white.gif" alt="Loading"/>Loading content...                        </div><!-- This content will be shown if no path is specified in the URL fragment. -->                        <div class="bbq-default bbq-item">                            <img src="bbq.jpg" width="200" height="150"><h1>jQuery BBQ</h1>                            <p>Click a nav item above to load some delicious AJAX content! Also, once                                the content loads, feel free to further explore our savory delights by                                clicking any inline links you might see.</p>                        </div>                    </div>                    <div style="clear:both;">                    </div>                </div>                <div class="bbq" id="bbq2">                    <div class="bbq-nav bbq-nav-top">                        <a href="#burger.html">Burgers</a>                        <a href="#chicken.html">Chicken</a>                        <a href="#kebabs.html">Kebabs</a>                    </div>                    <div class="bbq-content">                        <!-- This will be shown while loading AJAX content. You'll want to get an image that suits your design at http://ajaxload.info/ -->                        <div class="bbq-loading" style="display:none;">                            <img src="/shell/images/ajaxload-15-white.gif" alt="Loading"/>Loading content...                        </div><!-- This content will be shown if no path is specified in the URL fragment. -->                        <div class="bbq-default bbq-item">                            <img src="bbq.jpg" width="200" height="150"><h1>jQuery BBQ</h1>                            <p>And there's plenty more where that came from! Don't forget to click                                here for some down-home AJAX content, cooked special, just for this                                content area. You just can't have too much of a good thing!</p>                        </div>                    </div>                    <div style="clear:both;">                    </div>                </div>                <div class="bbq" id="bbq3">                    <div class="bbq-nav bbq-nav-top">                        <a href="#burger.html">Burgers</a>                        <a href="#chicken.html">Chicken</a>                        <a href="#kebabs.html">Kebabs</a>                    </div>                    <div class="bbq-content">                        <!-- This will be shown while loading AJAX content. You'll want to get an image that suits your design at http://ajaxload.info/ -->                        <div class="bbq-loading" style="display:none;">                            <img src="/shell/images/ajaxload-15-white.gif" alt="Loading"/>Loading content...                        </div><!-- This content will be shown if no path is specified in the URL fragment. -->                        <div class="bbq-default bbq-item">                            <img src="bbq.jpg" width="200" height="150"><h1>jQuery BBQ</h1>                            <p>And there's plenty more where that came from! Don't forget to click                                here for some down-home AJAX content, cooked special, just for this                                content area. You just can't have too much of a good thing!</p>                        </div>                    </div>                    <div style="clear:both;">                    </div>                </div>            </div>        </div>    </body></html>