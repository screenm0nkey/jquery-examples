<!DOCTYPE HTML><html lang="en-US">    <head>        <meta charset="UTF-8">        <title>URL Fragmenter</title>        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>        <script type="text/javascript">            (function($, window, document, undefined){                /*
                 * URL Fragmenter
                 * Last edited:22/10/2010
                 * @param {string} url
                 */                $.fragmentURL = function(url){                    var parse_url = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,                     	result = parse_url.exec(url),                     	names = ['url', 'scheme', 'slash', 'host', 'port', 'path', 'query', 'hash'],                     	mObj = {},						qObj = {}                     	length = names.length;                                        for (var i = 0; i < length; i += 1) {                        (!result[i]) ? result[i] = '' : result[i];                        mObj[names[i]] = '' + result[i] + '';                    }										if(mObj['query']!==''){						var query = mObj['query'].split('&');							length = query.length;												for(var i =0; i < length; i++){							var split = query[i].split('=');                            try {
                                qObj[split[0]] = split[1];
                            } 
                            catch (e) {}						}						mObj['query-split']=qObj;					}                    return mObj;                }				                                console.dir( $.fragmentURL('http://www.ora.com:80/goodparts?q#fragment'));			                console.dir( $.fragmentURL('http://www.ora.com:80/goodparts/barney/steve?nick=hopeless&mike=man&steve=3'));							console.dir($.fragmentURL(window.location.href) );                            })(jQuery, this, this.document);        </script>    </head>    <body></body></html>